!function(){function e(e){parseInt(i.value)+e>=1&&parseInt(i.value)+e<=30&&(i.value=parseInt(i.value)+parseInt(e)+" дней")}function n(e){parseInt(d.value)+e>=0&&parseInt(d.value)+e<=20&&(d.value=parseInt(d.value)+parseInt(e)+" чел.")}function t(){v.innerHTML=v.innerHTML+'<div class="companion-quantity">       <div class="left-column">         <p class="left-column__neader">№</p>         <span class="left-column__number">'+parseInt(d.value)+'</span>       </div>       <div class="right-column">         <div class="right-column__item">           <label class="right-column__label">ИМЯ: *</label>           <input class="right-column__input" type="text" name="companion-name" placeholder="Введите ваше имя" required>         </div>         <div class="right-column__item">           <label class="right-column__label">ПРОЗВИЩЕ:</label>           <input class="right-column__input" type="text" name="companion-nick" placeholder="Ну как же без этого!">         </div>       </div>       <div class="delete-column hidden-xs"><button class="delete" type="button">УДАЛИТЬ</button>       </div>    </div>'}function l(){var e=o.querySelectorAll(".companion-quantity"),n=e.length;e[n-1].parentNode.removeChild(e[n-1])}function r(){n(-1);var e=this.parentNode.parentNode;e.parentNode.removeChild(e);for(var t=o.querySelectorAll(".left-column__number"),l=0;l<t.length;l++)t[l].textContent=l+1}function a(e,n){var t=new XMLHttpRequest;t.open("post","https://echo.htmlacademy.ru/adaptive?"+(new Date).getTime()),t.addEventListener("readystatechange",function(){4==t.readyState&&n(t.responseText)}),t.send(e)}var o=document,c=o.querySelector(".counter__btn--minus"),u=o.querySelector(".counter__btn--plus"),i=o.querySelector(".counter__input"),s=o.querySelector(".counter--people .counter__btn--minus"),p=o.querySelector(".counter--people .counter__btn--plus"),d=o.querySelector(".counter--people .counter__input"),v=o.querySelector(".companions"),m=o.querySelectorAll(".companions .delete"),_=o.querySelector(".main-form");c.addEventListener("click",function(){e(-1)}),u.addEventListener("click",function(){e(1)}),s.addEventListener("click",function(){n(-1),l()}),p.addEventListener("click",function(){if(parseInt(d.value)<20){n(1),t();for(var e=o.querySelectorAll(".companions .delete"),l=0;l<e.length;l++)e[l].addEventListener("click",r)}});for(var f=0;f<m.length;f++)m[f].addEventListener("click",r);_.addEventListener("submit",function(e){e.preventDefault();var n=new FormData(_);a(n,function(e){console.log(e)})})}();